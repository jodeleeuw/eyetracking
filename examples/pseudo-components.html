<!DOCTYPE html>
<html>
  <head>
    <script src="../dist/bundle.js"></script>
  </head>
  <body></body>
  <script>
    const Eyetracker = eyetrack.initEyetracker();
    const comp = eyetrack.initComponents(Eyetracker);

    async function start() {
      // deals with all the permissions and camera stuff
      await comp.init();

      // creates a landing page for the user (disclaimers, stuff like that??)
      const landing = comp.landing();
      document.body.appendChild(landing);

      // all-purpose method for clearing components generated by the Components object
      comp.clearComponents();

      // generates selector (and handles all the stuff that happens when you select a camera)
      const [selector, btn] = await comp.generateSelector();
      document.body.appendChild(selector);

      // asks the user if camera and facial projection is alright
      const [video, canvas] = await comp.generateFeeds();
      document.body.appendChild(canvas);
    }

    start();
  </script>
</html>
