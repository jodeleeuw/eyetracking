<!DOCTYPE html>
<html>
  <head>
    <script src="../dist/bundle.js"></script>
  </head>
  <style>
    body {
      margin: 0px;
      padding: 0px;
    }
  </style>
  <body></body>
  <script>
    const Eyetracker = eyetrack.initEyetracker();
    const comp = eyetrack.initComponents(Eyetracker);

    const div = document.createElement("div");
    div.style.width = "100%";
    div.style.height = "100%";
    div.style.position = "fixed";
    div.id = "cal";
    document.body.appendChild(div);

    test(5, 5, div);
    test(0, 0, div);

    comp.props.shape = "cross";
    comp.props.diameter = "100px";
    comp.drawFixation(24, 50, div);

    function test(x, y, div) {
      const adjust = parseInt(4) / 2;
      const cross1 = document.createElement("div");
      cross1.style.width = "10px";
      cross1.style.height = "10px";
      cross1.style.backgroundColor = "green";
      cross1.style.position = "absolute";
      cross1.style.left = `calc(${x}% - ${adjust}px)`;
      cross1.style.top = `calc(${y}% - ${adjust}px)`;

      div.appendChild(cross1);
    }

    // const clearComponentsButton = document.createElement("button");
    // clearComponentsButton.textContent = "Next";
    // clearComponentsButton.addEventListener("click", () => {
    //   comp.clearComponents();
    // });

    // async function start() {
    //   const landing = await comp.createLanding();
    //   document.body.append(landing);
    //   let next = clearComponentsButton;
    //   next.addEventListener("click", () => {
    //     selectorPrompt();
    //     next.remove();
    //   });
    //   document.body.append(next);
    // }

    // async function selectorPrompt() {
    //   const [selector, btn] = await comp.createSelector();
    //   document.body.append(selector);
    //   document.body.append(btn);

    //   btn.addEventListener("click", () => {
    //     setTimeout(async () => {
    //       const div = document.createElement("div");
    //       div.style.width = "100%";
    //       div.style.height = "100%";
    //       div.style.position = "fixed";
    //       div.id = "cal";
    //       document.body.appendChild(div);
    //       await comp.preload();
    //       let ret = await comp.calibrate(div);
    //       console.log(ret);
    //     }, 1000);
    //   });
    // }

    //start();
  </script>
</html>
